# consortium-calendar

## Introduction

컨소시엄 캘린더는 Google Calendar(이하 구글 캘린더) 애플리케이션을 기반으로하여 단체 단위의 일정을 관리할 수 있는 서비스입니다.

- 호스트 사용자는 이메일 주소, 휴대전화 번호, 비밀번호를 이용해 서비스에 가입할 수 있습니다.
- 호스트 사용자는 서비스 로그인 이후 원하는 단체를 생성하거나 기존 단체에 가입할 수 있습니다.
- 호스트 사용자는 단체의 예약 페이지를 생성할 수 있습니다.
    1) 옵션 1: 선착순 n명 에게만 일정 요청 받기 / 제한없이 일정 요청 받기
    2) 옵션 2: 단체 모두가 비어있는 일정만 예약 요청 가능 / 한명이라도 비어있다면 예약 요청 가능
- 모든 사용자는 단체의 예약 페이지를 통해 단체의 일정 정보를 취합하여 볼 수 있습니다.
- 게스트 사용자는 비어 있는 일정에 일정 예약 요청을 보낼 수 있습니다.
    1) 단체 모두가 비어있는 일정만 예약 요청 가능: 단체 구성원 전체를 담당자로 배정
    2) 단체의 한명이라도 비어있다면 예약 요청 가능: 가능한 사람 중 랜덤으로 담당자 배정
- 게스트 사용자가 일정 예약 요청을 보낸 경우 담당자로 배정된 호스트 사용자에게 알려줍니다.
- 담당자로 배정된 호스트 사용자는 받은 일정 예약 정보를 취합하여 볼 수 있습니다.
- 담당자로 배정된 호스트 사용자는 받은 일정 예약을 수락하거나 거절할 수 있습니다.
    1) 수락 시: 구글 캘린더에 일정을 생성하고, 담당자 호스트와 게스트에게 알려줍니다.
    2) 거절 시: 담당자 호스트와 게스트에게 알려줍니다.

UI 를 제외한 간소화된 REST API 를 구현하는 것이 목표입니다. 위 목표와 아래의 요구사항을 만족하는 API 서비스를 자유롭게 정의하여 구현합니다.

## 기능 요구사항

서비스 가입/로그인, 단체 생성/가입, 단체 예약 페이지 생성, 단체 일정 조회, 일정 예약 요청, 일정 예약 내역 조회, 일정 예약 수락/거절 그리고 가상의 알림 기능을 API로 구현합니다.

- 요청한 사용자 식별 값은 숫자 형태이며 "X-USER-ID"라는 HTTP Header로 전달됩니다.

작성된 애플리케이션은 다수의 서버에서 다수의 인스턴스로 동작하더라도 기능에 문제가 없도록 설계되어야 합니다.

## 요구사항에 따른 상세 기술 구현 사항

요청 본문과 응답 본문은 실제 구현하며 자유롭게 가져가도 무방합니다.

### 1. 서비스 가입/로그인

다음의 요건을 만족하는 서비스 가입/로그인 API를 작성합니다.

- 이미 서비스에 가입된 이메일 주소 또는 휴대전화 번호인 경우 ALREADY_REGISTERED 상태를 응답합니다.

### 2. 단체 생성

다음의 요건을 만족하는 단체 생성 API를 작성합니다.

- 사용자 식별 값, 단체 이름을 입력 값으로 받습니다.

### 3. 단체 가입

다음의 요건을 만족하는 단체 가입 API를 작성합니다.

- 사용자 식별 값, 단체 식별 값을 입력 값으로 받습니다.
- 기존에 가입되어 있는 단체의 경우 EXISTING_MEMBER 상태를 응답합니다.

### 4. 단체 예약 페이지 생성

다음의 요건을 만족하는 단체 예약 페이지 생성 API를 작성합니다.

- 사용자 식별 값, 단체 식별 값, 옵션(선착순 n명 or 제한 없음)을 입력 값으로 받습니다.
- 기존 생성되어 있는 단체 예약 페이지가 있는 경우 EXISTING_RESERVATION_PAGE 상태를 응답합니다.

### 5. 단체 일정 조회

다음의 요건을 만족하는 단체 일정 조회 API를 작성합니다.

- 단체 예약 페이지 식별 값을 입력 값으로 받습니다.
- 존재하지 않는 단체 예약 페이지인 경우 NOT_FOUND 상태를 응답합니다.
- 단체에 소속된 호스트 사용자의 일정 정보는 구글 캘린더 API([Docs](https://developers.google.com/calendar/api))를 이용하여 자유롭게 동기화합니다.

### 6. 일정 예약 요청

다음의 요건을 만족하는 일정 예약 요청 API를 작성합니다.

- 단체 예약 페이지 식별 값, 예약 요청 날짜/시간, 예약자 이름/이메일/전화번호를 입력 값으로 받습니다.
- 예약 요청 날짜/시간에 기존에 등록된 일정이 있다면 ALREADY_BOOKED 상태를 응답합니다.

### 7. 일정 예약 내역 조회

다음의 요건을 만족하는 일정 예약 내역 조회 API를 작성합니다.

- 사용자 식별 값을 입력 값으로 받습니다.
- 담당자로 배정된 일정 예약 내역을 응답합니다.

### 8. 일정 예약 수락/거절

다음의 요건을 만족하는 일정 예약 수락/거절 API를 작성합니다.

- 사용자 식별 값, 일정 예약 요청 식별 값을 입력 값으로 받습니다.
- 담당자가 아닌 일정 예약 요청에 대한 수락/거절인 경우 FORBIDDEN 상태를 응답합니다.
- 일정 예약을 수락하는 경우 구글 캘린더 API([Docs](https://developers.google.com/calendar/api))를 이용하여 담당자의 구글 캘린더에 일정을 등록합니다.

### 9. 가상의 알림 기능

다음의 요건을 만족하는 가상의 알림 기능 API를 작성합니다.

- 수신자(이메일 or 휴대전화번호), 메시지 내용, 알림 유형을 입력 값으로 받습니다.
- 실제로 이메일, 문자 그리고 카카오톡 알림톡 기능을 구현하지는 않습니다.
